{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{deleteJob}from'./utils/jobs_list/DeleteJob.js';import Portal from'./StatusDropdownPortal.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JobsList=_ref=>{let{removeJobCallBack,jobsState}=_ref;const[openDropdownId,setOpenDropdownId]=useState(null);const[dropdownCoords,setDropdownCoords]=useState({top:0,left:0});const dropdownRef=useRef(null);const buttonRefs=useRef({});const toggleDropdown=(e,jobId)=>{e.stopPropagation();const button=buttonRefs.current[jobId];if(!button)return;const rect=button.getBoundingClientRect();const viewportHeight=window.innerHeight;const dropdownHeight=120;// Approximate dropdown height\nsetDropdownCoords({top:rect.bottom+window.scrollY,left:rect.left+window.scrollX,width:rect.width});setOpenDropdownId(openDropdownId===jobId?null:jobId);};useEffect(()=>{const handleClickOutside=e=>{if(dropdownRef.current&&!dropdownRef.current.contains(e.target)){setOpenDropdownId(null);}};document.addEventListener('click',handleClickOutside);return()=>document.removeEventListener('click',handleClickOutside);},[]);// ... keep your existing handleDeleteJob and countJobStatus functions ...\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"box p-0\",style:{marginTop:'20px'},children:/*#__PURE__*/_jsx(\"tbody\",{children:jobsState.map(job=>/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{className:\"jobs-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:e=>toggleDropdown(e,job.id),ref:el=>buttonRefs.current[job.id]=el,\"aria-expanded\":openDropdownId===job.id,children:\"Actions \\u25BC\"}),openDropdownId===job.id&&/*#__PURE__*/_jsx(Portal,{children:/*#__PURE__*/_jsx(\"div\",{ref:dropdownRef,style:{position:'absolute',top:`${dropdownCoords.top}px`,left:`${dropdownCoords.left}px`,zIndex:10000,backgroundColor:'white',border:'1px solid #dbdbdb',borderRadius:'4px',boxShadow:'0 2px 10px rgba(0,0,0,0.1)',minWidth:'160px'},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",style:{padding:'0.5rem 0'},children:[/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",style:{padding:'0.5rem 1rem'},children:\"Rejected\"}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",style:{padding:'0.5rem 1rem'},children:\"Interview\"}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:'0.25rem 0'}}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",style:{padding:'0.5rem 1rem',color:'red'},onClick:e=>handleDeleteJob(e,job.id,job.company,job.position),children:\"Delete\"})]})})})]})},job.id))})});};export default JobsList;","map":{"version":3,"names":["React","useState","useEffect","useRef","deleteJob","Portal","jsx","_jsx","jsxs","_jsxs","JobsList","_ref","removeJobCallBack","jobsState","openDropdownId","setOpenDropdownId","dropdownCoords","setDropdownCoords","top","left","dropdownRef","buttonRefs","toggleDropdown","e","jobId","stopPropagation","button","current","rect","getBoundingClientRect","viewportHeight","window","innerHeight","dropdownHeight","bottom","scrollY","scrollX","width","handleClickOutside","contains","target","document","addEventListener","removeEventListener","className","style","marginTop","children","map","job","onClick","id","ref","el","position","zIndex","backgroundColor","border","borderRadius","boxShadow","minWidth","padding","margin","color","handleDeleteJob","company"],"sources":["/home/ayoo1131/guitar_note_to_tabs/my_app/dashboard/applications/applied_jobs/frontend/src/components/body/JobsList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { deleteJob } from './utils/jobs_list/DeleteJob.js';\nimport Portal from './StatusDropdownPortal.js';\n\nconst JobsList = ({ removeJobCallBack, jobsState }) => {\n  const [openDropdownId, setOpenDropdownId] = useState(null);\n  const [dropdownCoords, setDropdownCoords] = useState({ top: 0, left: 0 });\n  const dropdownRef = useRef(null);\n  const buttonRefs = useRef({});\n\n  const toggleDropdown = (e, jobId) => {\n    e.stopPropagation();\n    const button = buttonRefs.current[jobId];\n    if (!button) return;\n\n    const rect = button.getBoundingClientRect();\n    const viewportHeight = window.innerHeight;\n    const dropdownHeight = 120; // Approximate dropdown height\n    \n    setDropdownCoords({\n      top: rect.bottom + window.scrollY,\n      left: rect.left + window.scrollX,\n      width: rect.width\n    });\n\n    setOpenDropdownId(openDropdownId === jobId ? null : jobId);\n  };\n\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setOpenDropdownId(null);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  // ... keep your existing handleDeleteJob and countJobStatus functions ...\n\n  return (\n    <div className=\"box p-0\" style={{ marginTop: '20px' }}>\n      {/* ... keep your existing table structure ... */}\n      <tbody>\n        {jobsState.map(job => (\n          <tr key={job.id}>\n            {/* ... other table cells ... */}\n            <td className=\"jobs-actions\">\n              <button \n                className=\"button\" \n                onClick={(e) => toggleDropdown(e, job.id)}\n                ref={el => buttonRefs.current[job.id] = el}\n                aria-expanded={openDropdownId === job.id}\n              >\n                Actions â–¼\n              </button>\n\n              {openDropdownId === job.id && (\n                <Portal>\n                  <div\n                    ref={dropdownRef}\n                    style={{\n                      position: 'absolute',\n                      top: `${dropdownCoords.top}px`,\n                      left: `${dropdownCoords.left}px`,\n                      zIndex: 10000,\n                      backgroundColor: 'white',\n                      border: '1px solid #dbdbdb',\n                      borderRadius: '4px',\n                      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n                      minWidth: '160px',\n                    }}\n                    onClick={e => e.stopPropagation()}\n                  >\n                    <div className=\"dropdown-content\" style={{ padding: '0.5rem 0' }}>\n                      <a className=\"dropdown-item\" style={{ padding: '0.5rem 1rem' }}>Rejected</a>\n                      <a className=\"dropdown-item\" style={{ padding: '0.5rem 1rem' }}>Interview</a>\n                      <hr style={{ margin: '0.25rem 0' }} />\n                      <a \n                        className=\"dropdown-item\" \n                        style={{ padding: '0.5rem 1rem', color: 'red' }}\n                        onClick={(e) => handleDeleteJob(e, job.id, job.company, job.position)}\n                      >\n                        Delete\n                      </a>\n                    </div>\n                  </div>\n                </Portal>\n              )}\n            </td>\n          </tr>\n        ))}\n      </tbody>\n    </div>\n  );\n};\n\nexport default JobsList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,SAAS,KAAQ,gCAAgC,CAC1D,MAAO,CAAAC,MAAM,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAsC,IAArC,CAAEC,iBAAiB,CAAEC,SAAU,CAAC,CAAAF,IAAA,CAChD,KAAM,CAACG,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAACe,cAAc,CAAEC,iBAAiB,CAAC,CAAGhB,QAAQ,CAAC,CAAEiB,GAAG,CAAE,CAAC,CAAEC,IAAI,CAAE,CAAE,CAAC,CAAC,CACzE,KAAM,CAAAC,WAAW,CAAGjB,MAAM,CAAC,IAAI,CAAC,CAChC,KAAM,CAAAkB,UAAU,CAAGlB,MAAM,CAAC,CAAC,CAAC,CAAC,CAE7B,KAAM,CAAAmB,cAAc,CAAGA,CAACC,CAAC,CAAEC,KAAK,GAAK,CACnCD,CAAC,CAACE,eAAe,CAAC,CAAC,CACnB,KAAM,CAAAC,MAAM,CAAGL,UAAU,CAACM,OAAO,CAACH,KAAK,CAAC,CACxC,GAAI,CAACE,MAAM,CAAE,OAEb,KAAM,CAAAE,IAAI,CAAGF,MAAM,CAACG,qBAAqB,CAAC,CAAC,CAC3C,KAAM,CAAAC,cAAc,CAAGC,MAAM,CAACC,WAAW,CACzC,KAAM,CAAAC,cAAc,CAAG,GAAG,CAAE;AAE5BhB,iBAAiB,CAAC,CAChBC,GAAG,CAAEU,IAAI,CAACM,MAAM,CAAGH,MAAM,CAACI,OAAO,CACjChB,IAAI,CAAES,IAAI,CAACT,IAAI,CAAGY,MAAM,CAACK,OAAO,CAChCC,KAAK,CAAET,IAAI,CAACS,KACd,CAAC,CAAC,CAEFtB,iBAAiB,CAACD,cAAc,GAAKU,KAAK,CAAG,IAAI,CAAGA,KAAK,CAAC,CAC5D,CAAC,CAEDtB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoC,kBAAkB,CAAIf,CAAC,EAAK,CAChC,GAAIH,WAAW,CAACO,OAAO,EAAI,CAACP,WAAW,CAACO,OAAO,CAACY,QAAQ,CAAChB,CAAC,CAACiB,MAAM,CAAC,CAAE,CAClEzB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,CAED0B,QAAQ,CAACC,gBAAgB,CAAC,OAAO,CAAEJ,kBAAkB,CAAC,CACtD,MAAO,IAAMG,QAAQ,CAACE,mBAAmB,CAAC,OAAO,CAAEL,kBAAkB,CAAC,CACxE,CAAC,CAAE,EAAE,CAAC,CAEN;AAEA,mBACE/B,IAAA,QAAKqC,SAAS,CAAC,SAAS,CAACC,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,cAEpDxC,IAAA,UAAAwC,QAAA,CACGlC,SAAS,CAACmC,GAAG,CAACC,GAAG,eAChB1C,IAAA,OAAAwC,QAAA,cAEEtC,KAAA,OAAImC,SAAS,CAAC,cAAc,CAAAG,QAAA,eAC1BxC,IAAA,WACEqC,SAAS,CAAC,QAAQ,CAClBM,OAAO,CAAG3B,CAAC,EAAKD,cAAc,CAACC,CAAC,CAAE0B,GAAG,CAACE,EAAE,CAAE,CAC1CC,GAAG,CAAEC,EAAE,EAAIhC,UAAU,CAACM,OAAO,CAACsB,GAAG,CAACE,EAAE,CAAC,CAAGE,EAAG,CAC3C,gBAAevC,cAAc,GAAKmC,GAAG,CAACE,EAAG,CAAAJ,QAAA,CAC1C,gBAED,CAAQ,CAAC,CAERjC,cAAc,GAAKmC,GAAG,CAACE,EAAE,eACxB5C,IAAA,CAACF,MAAM,EAAA0C,QAAA,cACLxC,IAAA,QACE6C,GAAG,CAAEhC,WAAY,CACjByB,KAAK,CAAE,CACLS,QAAQ,CAAE,UAAU,CACpBpC,GAAG,CAAE,GAAGF,cAAc,CAACE,GAAG,IAAI,CAC9BC,IAAI,CAAE,GAAGH,cAAc,CAACG,IAAI,IAAI,CAChCoC,MAAM,CAAE,KAAK,CACbC,eAAe,CAAE,OAAO,CACxBC,MAAM,CAAE,mBAAmB,CAC3BC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,4BAA4B,CACvCC,QAAQ,CAAE,OACZ,CAAE,CACFV,OAAO,CAAE3B,CAAC,EAAIA,CAAC,CAACE,eAAe,CAAC,CAAE,CAAAsB,QAAA,cAElCtC,KAAA,QAAKmC,SAAS,CAAC,kBAAkB,CAACC,KAAK,CAAE,CAAEgB,OAAO,CAAE,UAAW,CAAE,CAAAd,QAAA,eAC/DxC,IAAA,MAAGqC,SAAS,CAAC,eAAe,CAACC,KAAK,CAAE,CAAEgB,OAAO,CAAE,aAAc,CAAE,CAAAd,QAAA,CAAC,UAAQ,CAAG,CAAC,cAC5ExC,IAAA,MAAGqC,SAAS,CAAC,eAAe,CAACC,KAAK,CAAE,CAAEgB,OAAO,CAAE,aAAc,CAAE,CAAAd,QAAA,CAAC,WAAS,CAAG,CAAC,cAC7ExC,IAAA,OAAIsC,KAAK,CAAE,CAAEiB,MAAM,CAAE,WAAY,CAAE,CAAE,CAAC,cACtCvD,IAAA,MACEqC,SAAS,CAAC,eAAe,CACzBC,KAAK,CAAE,CAAEgB,OAAO,CAAE,aAAa,CAAEE,KAAK,CAAE,KAAM,CAAE,CAChDb,OAAO,CAAG3B,CAAC,EAAKyC,eAAe,CAACzC,CAAC,CAAE0B,GAAG,CAACE,EAAE,CAAEF,GAAG,CAACgB,OAAO,CAAEhB,GAAG,CAACK,QAAQ,CAAE,CAAAP,QAAA,CACvE,QAED,CAAG,CAAC,EACD,CAAC,CACH,CAAC,CACA,CACT,EACC,CAAC,EA5CEE,GAAG,CAACE,EA6CT,CACL,CAAC,CACG,CAAC,CACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzC,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}