{"ast":null,"code":"// JobsList.js\nimport React,{useState,useEffect}from'react';import{deleteJob}from'./utils/jobs_list/DeleteJob.js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const JobsList=_ref=>{let{removeJobCallBack,jobsState}=_ref;const[openDropdownId,setOpenDropdownId]=useState(null);const toggleDropdown=jobId=>{setOpenDropdownId(openDropdownId===jobId?null:jobId);};const handleDeleteJob=(e,jobId,jobCompany,jobTitle)=>{e.preventDefault();deleteJob(jobId,jobCompany,jobTitle);removeJobCallBack(jobId);setOpenDropdownId(null);};const countJobStatus=()=>{return{applied:jobsState.filter(job=>job.status==='Applied').length,rejected:jobsState.filter(job=>job.status==='Rejected').length,interview:jobsState.filter(job=>job.status==='Interview').length};};// Close dropdown on outside click\nuseEffect(()=>{const handleClickOutside=()=>setOpenDropdownId(null);window.addEventListener('click',handleClickOutside);return()=>window.removeEventListener('click',handleClickOutside);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"box p-0\",style:{marginTop:'20px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"table-container jobs-table-container\",style:{maxHeight:'60vh',overflowY:'auto',border:'1px solid #dbdbdb',borderRadius:'4px',position:'relative'// Needed for absolute dropdowns inside\n},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table is-fullwidth is-striped is-hoverable\",style:{tableLayout:'fixed',width:'100%'},children:[/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsx(\"tr\",{className:\"has-text-centered\",children:/*#__PURE__*/_jsxs(\"th\",{colSpan:\"7\",className:\"has-text-centered\",children:[\"Applied Jobs: \",countJobStatus().applied]})}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},children:\"Position\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'},children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'},children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"Location\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'},children:\"URL\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},children:\"Actions\"})]})]}),/*#__PURE__*/_jsx(\"tbody\",{children:jobsState.map(job=>/*#__PURE__*/_jsxs(\"tr\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"td\",{children:job.company}),/*#__PURE__*/_jsx(\"td\",{children:job.position}),/*#__PURE__*/_jsx(\"td\",{className:\"jobs-table-narrow-column\",children:job.date}),/*#__PURE__*/_jsx(\"td\",{className:\"jobs-table-narrow-column\",children:/*#__PURE__*/_jsx(\"span\",{className:`tag ${job.status}`,children:job.status})}),/*#__PURE__*/_jsx(\"td\",{children:job.location}),/*#__PURE__*/_jsx(\"td\",{className:\"jobs-table-narrow-column\",children:/*#__PURE__*/_jsx(\"a\",{href:job.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"link\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"jobs-actions\",style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:e=>{e.stopPropagation();// prevent outer click handler\ntoggleDropdown(job.id);},children:\"Actions \\u25BC\"}),openDropdownId===job.id&&/*#__PURE__*/_jsx(\"div\",{onClick:e=>e.stopPropagation()// Prevent dropdown click from closing\n,style:{position:'absolute',top:'100%',left:0,backgroundColor:'white',border:'1px solid #ccc',borderRadius:'4px',boxShadow:'0 2px 6px rgba(0,0,0,0.2)',zIndex:1000,minWidth:'140px',marginTop:'4px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:()=>alert('Rejected clicked'),children:\"Rejected\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:()=>alert('Interview clicked'),children:\"Interview\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:e=>handleDeleteJob(e,job.id,job.company,job.position),style:{color:'red'},children:\"Delete\"})]})})]})]},job.id))})]})})});};export default JobsList;","map":{"version":3,"names":["React","useState","useEffect","deleteJob","jsxs","_jsxs","jsx","_jsx","JobsList","_ref","removeJobCallBack","jobsState","openDropdownId","setOpenDropdownId","toggleDropdown","jobId","handleDeleteJob","e","jobCompany","jobTitle","preventDefault","countJobStatus","applied","filter","job","status","length","rejected","interview","handleClickOutside","window","addEventListener","removeEventListener","className","style","marginTop","children","maxHeight","overflowY","border","borderRadius","position","tableLayout","width","colSpan","map","company","date","location","href","url","target","rel","onClick","stopPropagation","id","top","left","backgroundColor","boxShadow","zIndex","minWidth","cursor","alert","color"],"sources":["/home/ayoo1131/guitar_note_to_tabs/my_app/dashboard/applications/applied_jobs/frontend/src/components/body/JobsList.js"],"sourcesContent":["// JobsList.js\nimport React, { useState, useEffect } from 'react';\nimport { deleteJob } from './utils/jobs_list/DeleteJob.js';\n\nconst JobsList = ({ removeJobCallBack, jobsState }) => {\n  const [openDropdownId, setOpenDropdownId] = useState(null);\n\n  const toggleDropdown = (jobId) => {\n    setOpenDropdownId(openDropdownId === jobId ? null : jobId);\n  };\n\n  const handleDeleteJob = (e, jobId, jobCompany, jobTitle) => {\n    e.preventDefault();\n    deleteJob(jobId, jobCompany, jobTitle);\n    removeJobCallBack(jobId);\n    setOpenDropdownId(null);\n  };\n\n  const countJobStatus = () => {\n    return {\n      applied: jobsState.filter(job => job.status === 'Applied').length,\n      rejected: jobsState.filter(job => job.status === 'Rejected').length,\n      interview: jobsState.filter(job => job.status === 'Interview').length,\n    };\n  };\n\n  // Close dropdown on outside click\n  useEffect(() => {\n    const handleClickOutside = () => setOpenDropdownId(null);\n    window.addEventListener('click', handleClickOutside);\n    return () => window.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  return (\n    <div className=\"box p-0\" style={{ marginTop: '20px' }}>\n      <div\n        className=\"table-container jobs-table-container\"\n        style={{\n          maxHeight: '60vh',\n          overflowY: 'auto',\n          border: '1px solid #dbdbdb',\n          borderRadius: '4px',\n          position: 'relative', // Needed for absolute dropdowns inside\n        }}\n      >\n        <table\n          className=\"table is-fullwidth is-striped is-hoverable\"\n          style={{ tableLayout: 'fixed', width: '100%' }}\n        >\n          <thead>\n            <tr className=\"has-text-centered\">\n              <th colSpan=\"7\" className=\"has-text-centered\">\n                Applied Jobs: {countJobStatus().applied}\n              </th>\n            </tr>\n            <tr>\n              <th style={{ width: '15%' }}>Company</th>\n              <th style={{ width: '15%' }}>Position</th>\n              <th style={{ width: '10%' }}>Date</th>\n              <th style={{ width: '10%' }}>Status</th>\n              <th style={{ width: '20%' }}>Location</th>\n              <th style={{ width: '10%' }}>URL</th>\n              <th style={{ width: '20%' }}>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {jobsState.map((job) => (\n              <tr key={job.id} style={{ position: 'relative' }}>\n                <td>{job.company}</td>\n                <td>{job.position}</td>\n                <td className=\"jobs-table-narrow-column\">{job.date}</td>\n                <td className=\"jobs-table-narrow-column\">\n                  <span className={`tag ${job.status}`}>{job.status}</span>\n                </td>\n                <td>{job.location}</td>\n                <td className=\"jobs-table-narrow-column\">\n                  <a href={job.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                    link\n                  </a>\n                </td>\n                <td className=\"jobs-actions\" style={{ position: 'relative' }}>\n                  <button\n                    className=\"button\"\n                    onClick={(e) => {\n                      e.stopPropagation(); // prevent outer click handler\n                      toggleDropdown(job.id);\n                    }}\n                  >\n                    Actions â–¼\n                  </button>\n\n                  {openDropdownId === job.id && (\n                    <div\n                      onClick={(e) => e.stopPropagation()} // Prevent dropdown click from closing\n                      style={{\n                        position: 'absolute',\n                        top: '100%',\n                        left: 0,\n                        backgroundColor: 'white',\n                        border: '1px solid #ccc',\n                        borderRadius: '4px',\n                        boxShadow: '0 2px 6px rgba(0,0,0,0.2)',\n                        zIndex: 1000,\n                        minWidth: '140px',\n                        marginTop: '4px',\n                      }}\n                    >\n                      <div className=\"dropdown-content\" style={{ cursor: 'pointer' }}>\n                        <div className=\"dropdown-item\" onClick={() => alert('Rejected clicked')}>\n                          Rejected\n                        </div>\n                        <div className=\"dropdown-item\" onClick={() => alert('Interview clicked')}>\n                          Interview\n                        </div>\n                        <div\n                          className=\"dropdown-item\"\n                          onClick={(e) =>\n                            handleDeleteJob(e, job.id, job.company, job.position)\n                          }\n                          style={{ color: 'red' }}\n                        >\n                          Delete\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default JobsList;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}